{% extends "tfkfarteBundle::pagelayout.html.twig" %}

{% if not ez_is_field_empty( content, 'banner' ) %}
    {% set bannerImageId = ez_field_value( content, 'banner' ) %}
{% endif %}


{% if not ez_is_field_empty( content, 'image' ) %}
        {% set imageId = ez_field_value( content, 'image' ) %}
{% endif %}


{% if location is defined and not location.isDraft %}
  {% set currentLocation=location %}
{% endif %}


{% block content %}

<div class="content landingpage">
        <div class="constrained-content">

    {% if imageId is defined %}
        {{ render(
            controller(
                "ez_content:viewContent",
                  {
                      "contentId": imageId.destinationContentId,
                      "viewType": "responsive",
                      "params": {
                                    "image_title": ez_field_value(content, 'image_title'),
                                    "image_text" : ez_field_value(content, 'image_text'),
                                    "image_type": "banner"
                                }
                  }
            )
        ) }}
    {% endif %}

<div class="main">
      <h1>{{ ez_render_field(content, 'name') }}</h1>

    {% if not ez_is_field_empty( content, 'short_description' ) %}
      <div class="byline">
        {{ ez_render_field(content, 'short_description') }}
      </div>
    {% endif %}

<div class="flex-grid">
{{ render( controller("tfkfarteBundle:Item:children", {'locationId': location.id,  'params' : { 'class' : ['folder'] , 'viewType': 'line' }} )) }}
</div>
    {% if not ez_is_field_empty( content, 'description' ) %}
      {{ ez_render_field(content, 'description') }}
    {% endif %}
</div>

<div class="main__right">
    {{ render( controller("tfkfarteBundle:Item:children", {'locationId': location.id,  'params' : { 'class' : ['infobox'] , 'viewType': 'line' }} )) }}
</div>
</div>
</div>
{% endblock %}